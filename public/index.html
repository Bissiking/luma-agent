<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surveillance du Système</title>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        socket.on('systemData', (data) => {
            document.getElementById('cpu').innerText = `CPU: ${data.cpuUsage || 'N/A'}%`;
            document.getElementById('memory').innerText = `Mémoire: ${data.memoryUsage || 'N/A'}%`;

            const diskUsage = data.diskUsage || {};
            const diskList = Object.keys(diskUsage).map(key => `<li>${key}: ${diskUsage[key] || 'N/A'}%</li>`).join('');
            document.getElementById('disk').innerHTML = `<ul>${diskList}</ul>`;
        });

        window.onload = () => {
            socket.emit('requestData'); // Émettre une demande initiale si nécessaire
        };
    </script>
</head>
<body>
    <h1>Surveillance du Système</h1>
    <p id="cpu">CPU: N/A</p>
    <p id="memory">Mémoire: N/A</p>
    <div id="disk">
        <h2>Utilisation du Disque</h2>
    </div>
</body>
</html>
